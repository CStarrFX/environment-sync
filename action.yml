# action.yml
name: 'Environment Sync'
description: 'Sync one environment with another. Copy a production environment into a non-production one, including its git history, files, and database'
inputs:
  source:
    description: 'The environment you want to copy to the non-production one'
    required: true
    default: 'main'
  destination:
    description: 'The environment you want to copy the production one to'
    required: true
    default: 'staging'
  secrets:
    required: true
    default: 'staging'
  variables:
    required: true
    default: 'staging'
outputs:
  status: # id of output
    description: 'The status of the environment sync action'
runs:
  using: "composite"
  steps:
  - name: Output inputs
    run: |

      echo $source

      echo $destination

      echo $secrets

      echo $variables
      # return the status
      echo "status=success" >> $GITHUB_OUTPUT
    shell: bash

